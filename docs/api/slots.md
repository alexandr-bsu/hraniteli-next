# –°–ª–æ—Ç—ã –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ

## –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø—Å–∏—Ö–æ–ª–æ–≥–∞
```http
GET /get-slot

Query params:
{
  "psychologist": string  // –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—è –ø—Å–∏—Ö–æ–ª–æ–≥–∞
}

Response:
[
  {
    "res": [
      "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –ø–µ—Ä–≤—É—é –Ω–µ–¥–µ–ª—é (DD.MM-DD.MM)\n\nüü© –°–≤–æ–±–æ–¥–Ω–æ:\n\nDD.MM –î–Ω: HH:mm, HH:mm\n\n‚úÖ–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–æ\n\n...",
      "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –≤—Ç–æ—Ä—É—é –Ω–µ–¥–µ–ª—é...",
      "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Ç—Ä–µ—Ç—å—é –Ω–µ–¥–µ–ª—é...",
      "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —á–µ—Ç–≤—ë—Ä—Ç—É—é –Ω–µ–¥–µ–ª—é..."
    ]
  }
]
```

## –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–∫–µ—Ä–∞ —Ñ–æ—Ä–º—ã
```http
POST /init-form-tracking

Body:
{
  "ticket_id": string,   // –ù–æ–º–µ—Ä –∑–∞—è–≤–∫–∏
  "form_type": string,   // –¢–∏–ø —Ñ–æ—Ä–º—ã
  "step": string        // –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Å–µ–≥–¥–∞ "–ù–∞—á–∞–ª–æ"
}
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —à–∞–≥–∞ —Ñ–æ—Ä–º—ã
```http
PUT /update-tracking-step

Body:
{
  "ticket_id": string,  // –ù–æ–º–µ—Ä –∑–∞—è–≤–∫–∏
  "step": string       // –¢–µ–∫—É—â–∏–π —à–∞–≥ —Ñ–æ—Ä–º—ã
}
```

## –ê–Ω–∫–µ—Ç—ã –∏ –ø—Ä–æ—Ñ–∏–ª–∏

### –ê–Ω–∫–µ—Ç–∞ –ø—Å–∏—Ö–æ–ª–æ–≥–∞
```http
POST /psychologist-form

Body:
{
  "anketa": {
    "name": string,
    "about": string,
    "age": number,
    "sexClient": string,           // "–ù–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è" | ...
    "minClientAge": number,
    "maxClientAge": number,
    "psychologistPersonalTherapyType": string,
    "psychologistPersonalTherapyDuration": string,
    "mainModal": string,
    "additionalModals": string[],
    "skills": string[],
    "queries": string[],
    "telegram_link": string,
    "site_link": string,
    "vk_link": string,
    "minPrice": number,
    "maxPrice": number,
    "isMarried": boolean,
    "hasChildren": boolean,
    "allWithPriceMode": boolean,
    "firstFreeMode": boolean,
    "helpHandMode": boolean,
    "education": [
      {
        "educationItemProgramTitle": string,
        "educationItemTitle": string,
        "educationItemType": string,
        "educationItemYear": number
      }
    ]
  },
  "psychologist_id": string  // telegram id –ø—Å–∏—Ö–æ–ª–æ–≥–∞
}
```

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–µ—Å—Å–∏–π [CRON]
–û–±–Ω–æ–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã—Ö –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ —Å–µ—Å—Å–∏–π `number_of_clients_provided` –≤ —Ç–∞–±–ª–∏—Ü–µ `hraniteli_psychologists`. –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 21:00 –º—Å–∫.

### –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ —Å–µ—Å—Å–∏—è—Ö [CRON]
–°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π —á–∞—Å. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø—Å–∏—Ö–æ–ª–æ–≥—É –∏ –∫–ª–∏–µ–Ω—Ç—É –∑–∞ 2 —á–∞—Å–∞ –¥–æ –Ω–∞—á–∞–ª–∞ —Å–µ—Å—Å–∏–∏. –°–æ–æ–±—â–µ–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∞—Ç:
- –°—Å—ã–ª–∫–∏ –Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ
- –°—Å—ã–ª–∫—É –Ω–∞ –≤–∏–¥–µ–æ —Å–≤—è–∑—å

### –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ–± –æ—Ç–∑—ã–≤–∞—Ö [CRON]
–°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π —á–∞—Å. –î–ª—è —Å–µ—Å—Å–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å —á–∞—Å –Ω–∞–∑–∞–¥:
- –ù–∞—Ö–æ–¥–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –ø—Å–∏—Ö–æ–ª–æ–≥–æ–≤
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±–æ–∏–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –ø—Ä–æ—Å—å–±—É –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∫–µ—Ç—ã –∏ –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤—ã

## –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞
```http
POST /client-registration

Body:
{
  "user_id": string  // telegram id –∫–ª–∏–µ–Ω—Ç–∞
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –±—Ä–æ–Ω–∏/–æ—Ç–º–µ–Ω—ã
Webhook –∏–∑ supabase –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ `hraniteli_slots`:
```http
POST /notify-update
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤–∏–¥–µ–æ–≤—Å—Ç—Ä–µ—á—É
```http
POST /generate-conference-link
```
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—é:
- –°–Ω–∞—á–∞–ª–∞ –ø—ã—Ç–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –≤ Zoom
- –ï—Å–ª–∏ –µ—Å—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏–ª–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ, —Å–æ–∑–¥–∞–µ—Ç –≤ Google Meet

## –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ª–æ—Ç–æ–≤ –ø—Å–∏—Ö–æ–ª–æ–≥–∞
```http
GET /get-slot
```

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `secret` - –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –∫ —Ä–µ–¥–∞–∫—Ç–æ—Ä—É —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø—Å–∏—Ö–æ–ª–æ–≥–∞
- `startDate` - –Ω–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ (YYYY-MM-DD)
- `endDate` - –∫–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ (YYYY-MM-DD)

### –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
```http
GET /get-aggregated-schedule-by-psychologist-test-contur
```

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `utm_psy` - –∏–º—è –ø—Å–∏—Ö–æ–ª–æ–≥–∞
- `userTimeOffsetMsk` - —Å–º–µ—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç –ú–°–ö

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ—Ç–∞–º–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ—Ç–∞
```http
POST /add-slot
```

–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
```json
{
  "secret": "string",
  "slot": "DD.MM HH:mm"
}
```

### –£–¥–∞–ª–µ–Ω–∏–µ —Å–ª–æ—Ç–∞
```http
POST /delete-slot
```

–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
```json
{
  "secret": "string",
  "slot": "DD.MM HH:mm"
}
```

## –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–ª–æ—Ç–∞—Ö

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞—è–≤–∫–µ –≤ —Å–ª–æ—Ç
```http
GET /get-ticket-for-slot
```

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `secret` - –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á
- `date` - –¥–∞—Ç–∞ (DD.MM)
- `time` - –≤—Ä–µ–º—è (HH:mm)

### –ü–æ–¥–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
```http
POST /get_general_slots
```

–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
```json
{
  "psychologist_list": "string" // –°–ø–∏—Å–æ–∫ –ø—Å–∏—Ö–æ–ª–æ–≥–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
}
```

–û—Ç–≤–µ—Ç:
```json
{
  "formated_result": "–¢–æ–ø-3 –Ω–∞–∏–±–æ–ª–µ–µ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å–ª–æ—Ç–∞\n\nDD.MM HH:mm: N\nDD.MM HH:mm: N\n"
}
```

## –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π

### –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
```http
POST /plan-client-events
```

–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
```json
{
  "id": "string",
  "psychologist": "string",
  "date": "YYYY-MM-DD",
  "time": "HH:mm",
  "state": "string",
  "ticket": "string",
  "meeting_link": "string",
  "meeting_id": "string",
  "calendar_meeting_id": "string",
  "confirmed": boolean,
  "auto_assigned": boolean,
  "auto_canceled": boolean
}
```

## –†–∞–±–æ—Ç–∞ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∑–æ–Ω–∞–º–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–æ–Ω
```typescript
interface TimeZoneData {
  userTimeZone: string;     // –ù–∞–ø—Ä–∏–º–µ—Ä: "Europe/Moscow"
  userTimeOffsetMsk: number; // –°–º–µ—â–µ–Ω–∏–µ –æ—Ç –º–æ—Å–∫–æ–≤—Å–∫–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ —á–∞—Å–∞—Ö
  slots: {
    date: string;          // –§–æ—Ä–º–∞—Ç: "DD.MM"
    time: string;          // –§–æ—Ä–º–∞—Ç: "HH:mm"
    timezone: string;      // –í—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞ —Å–ª–æ—Ç–∞
  }[];
}
```

## –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π

### –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
```http
POST /reassign
```

–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
```json
{
  "lead_number": "string",
  "filtered_psychologists": "string", // –ò–º–µ–Ω–∞ –ø—Å–∏—Ö–æ–ª–æ–≥–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
  "slots": "string", // –§–æ—Ä–º–∞—Ç: "DD.MM HH:mm;DD.MM HH:mm"
  "_queries": "string" // –ó–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ —Ç–æ—á–∫—É —Å –∑–∞–ø—è—Ç–æ–π
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏
```http
GET /get-reassignment-schedule
```

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `lead_number` - –Ω–æ–º–µ—Ä –ª–∏–¥–∞
- `mode` - —Ä–µ–∂–∏–º –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ ("time" | "psychologist") 

# API –°–ª–æ—Ç–æ–≤ –∏ –†–∞—Å–ø–∏—Å–∞–Ω–∏—è

## –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø—Å–∏—Ö–æ–ª–æ–≥–∞
```http
GET /get-aggregated-schedule-by-psychologist-test-contur

Query:
{
  "psychologist": string,  // –ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è –ø—Å–∏—Ö–æ–ª–æ–≥–∞
  "userTimeOffsetMsk": number  // –°–º–µ—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç –ú–°–ö
}

Response:
[
  {
    "res": [
      "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –ø–µ—Ä–≤—É—é –Ω–µ–¥–µ–ª—é (–¥–¥.–º–º-–¥–¥.–º–º)\n\nüü© –°–≤–æ–±–æ–¥–Ω–æ:\n\n–¥–¥.–º–º –ü–Ω: —á—á:–º–º\n\n‚úÖ–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–æ\n\n–¥–¥.–º–º –ü–Ω: —á—á:–º–º\n",
      "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –≤—Ç–æ—Ä—É—é –Ω–µ–¥–µ–ª—é...",
      "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Ç—Ä–µ—Ç—å—é –Ω–µ–¥–µ–ª—é...",
      "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —á–µ—Ç–≤—ë—Ä—Ç—É—é –Ω–µ–¥–µ–ª—é..."
    ]
  }
]
```

### –ü–æ–¥–±–æ—Ä —Å–ª–æ—Ç–æ–≤
```http
POST /get_general_slots

Body:
{
  "psychologist_list": string  // –°–ø–∏—Å–æ–∫ —Ñ–∞–º–∏–ª–∏–π –∏ –∏–º—ë–Ω –ø—Å–∏—Ö–æ–ª–æ–≥–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
}

Response:
{
  "formated_result": "–¢–æ–ø-3 –Ω–∞–∏–±–æ–ª–µ–µ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å–ª–æ—Ç–∞\n\n–¥–¥.–º–º —á—á:–º–º: N\n–¥–¥.–º–º —á—á:–º–º: N\n"
}
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ—Ç–∞–º–∏

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫ —Ä—É–∫–∏ –ø–æ–º–æ—â–∏
```http
POST /get-help-hand-tickets

Query:
{
  "telegram_id": string,  // Telegram ID –ø—Å–∏—Ö–æ–ª–æ–≥–∞
  "price": string        // –§–∏–ª—å—Ç—Ä –ø–æ —Ü–µ–Ω–µ: "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ" | "300 —Ä—É–±" | "500 —Ä—É–±" | "1000 —Ä—É–±" | "1500 —Ä—É–±" | "–í—Å–µ"
}
```

### –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ —Ä—É–∫–∏ –ø–æ–º–æ—â–∏ –ø—Å–∏—Ö–æ–ª–æ–≥–æ–º
```http
POST /confirm-help-hand-by-psychologist

Query:
{
  "telegram_id": string,  // Telegram ID –ø—Å–∏—Ö–æ–ª–æ–≥–∞
  "link_id": string      // –ù–æ–º–µ—Ä –∑–∞—è–≤–∫–∏ (hh_ + 7 —Å–∏–º–≤–æ–ª–æ–≤)
}
```

### –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
```http
POST /reassign

Body:
{
  "lead_number": string,  // –ù–æ–º–µ—Ä –ª–∏–¥–∞
  "filtered_psychologists": string,  // –ò–º–µ–Ω–∞ –ø–æ–¥–æ–±—Ä–∞–Ω–Ω—ã—Ö –ø—Å–∏—Ö–æ–ª–æ–≥–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
  "slots": string,  // –í—ã–±—Ä–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–æ–º —Å–ª–æ—Ç—ã (—Ñ–æ—Ä–º–∞—Ç: "–¥–¥.–º–º —á—á:–º–º;–¥–¥.–º–º —á—á:–º–º")
  "_queries": string  // –ó–∞–ø—Ä–æ—Å—ã –∫–ª–∏–µ–Ω—Ç–∞ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞—è–≤–∫–∏ —á–µ—Ä–µ–∑ —Ç–æ—á–∫—É —Å –∑–∞–ø—è—Ç–æ–π
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏

#### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏
```http
GET /get-ticket-info-for-reassigment

Query:
{
  "lead_number": string,  // –ù–æ–º–µ—Ä –ª–∏–¥–∞ –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏
  "mode": "time" | "psychologist"  // –†–µ–∂–∏–º –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏
}
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∑–∞—è–≤–∫–∏
```http
GET /get-ticket-info-for-reassigment-without-schedule

Query:
{
  "lead_number": string  // –ù–æ–º–µ—Ä –ª–∏–¥–∞ –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —Å–µ—Å—Å–∏–π
```http
GET /get-assigment-coeff

Query:
{
  "psychologist_name": string  // –ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è –ø—Å–∏—Ö–æ–ª–æ–≥–∞
}
```

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### –ê–≤—Ç–æ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
```http
POST /automatch
Body: {
  "psychologists": string, // –°–ø–∏—Å–æ–∫ –ø—Å–∏—Ö–æ–ª–æ–≥–æ–≤ —á–µ—Ä–µ–∑ ;
  "slots": string,        // –°–ø–∏—Å–æ–∫ —Å–ª–æ—Ç–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ "DD.MM HH:mm" —á–µ—Ä–µ–∑ ;
  "ticket_info": object,  // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞—è–≤–∫–µ
  "client_info": object,  // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–µ
  "slots_id": string      // ID —Å–ª–æ—Ç–æ–≤ —á–µ—Ä–µ–∑ ;
}
```

### –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
```http
POST /plan-events
Body: {
  "slot_id": string,
  "events": {
    "confirmation": boolean,
    "reminder_22h": boolean,
    "reminder_21h": boolean,
    "auto_cancel": boolean
  }
}
```

## CRON –∑–∞–¥–∞—á–∏

- –ê–≤—Ç–æ–æ—Ç–º–µ–Ω–∞ —Å–µ—Å—Å–∏–π (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–π —á–∞—Å)
- –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ (–∑–∞ 24—á, 22—á, 21—á)
- –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –≤–Ω–µ—Å–µ–Ω–∏–∏ —Å–ª–æ—Ç–æ–≤ (—Å—Ä–µ–¥–∞ –∏ —Å—É–±–±–æ—Ç–∞ –≤ 19:00)
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ —Å–µ—Å—Å–∏–π 